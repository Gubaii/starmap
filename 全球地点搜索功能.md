# 全球地点搜索功能

## 功能介绍

星图设计工具现在支持全球任意地点搜索！使用了OpenStreetMap的免费API，可以搜索世界上任何地方。

## 新功能特点

### 🌍 全球搜索
- **覆盖范围**：支持全球任意地点搜索
- **智能提示**：实时搜索建议
- **详细信息**：显示完整地址和精确坐标
- **免费服务**：使用OpenStreetMap Nominatim API，无需API密钥

### 🏙️ 内置欧美城市
预设了14个欧美热门城市，便于快速选择：

**美国 🇺🇸**
- New York
- Los Angeles

**英国 🇬🇧**
- London

**法国 🇫🇷**
- Paris

**德国 🇩🇪**
- Berlin

**意大利 🇮🇹**
- Rome

**西班牙 🇪🇸**
- Madrid

**荷兰 🇳🇱**
- Amsterdam

**奥地利 🇦🇹**
- Vienna

**瑞典 🇸🇪**
- Stockholm

**丹麦 🇩🇰**
- Copenhagen

**加拿大 🇨🇦**
- Toronto

**澳大利亚 🇦🇺**
- Sydney

**日本 🇯🇵**
- Tokyo

## 使用方法

### 1. 搜索任意地点
1. 在搜索框中输入地点名称（英文）
2. 支持多种格式：
   - 城市名：`Paris`
   - 城市+国家：`Tokyo, Japan`  
   - 具体地址：`Times Square, New York`
   - 地标建筑：`Eiffel Tower`

### 2. 选择搜索结果
- 系统会显示最相关的8个结果
- 每个结果显示：
  - 完整地址
  - 精确坐标（纬度,经度）
- 点击任意结果即可选择

### 3. 快速选择热门城市
- 搜索框为空时显示热门城市网格
- 点击城市名称即可快速选择

### 4. 自定义坐标
- 点击"Use custom coordinates"
- 手动输入精确的纬度和经度
- 适合特殊位置或精确定位

## 搜索示例

### 城市搜索
```
输入: "London"
结果: London, Greater London, England, United Kingdom
坐标: 51.5074, -0.1278
```

### 地标搜索
```
输入: "Big Ben"
结果: Big Ben, Westminster, London, Greater London, England, SW1A 0AA, United Kingdom
坐标: 51.4994, -0.1245
```

### 详细地址搜索
```
输入: "Central Park, New York"
结果: Central Park, Manhattan, New York, New York, United States
坐标: 40.7829, -73.9654
```

## 技术实现

### OpenStreetMap Nominatim API
- **服务提供商**：OpenStreetMap
- **API类型**：免费地理编码服务
- **无需注册**：无需API密钥
- **请求限制**：合理使用（每秒1次请求）
- **数据质量**：全球覆盖，定期更新

### 搜索优化
- **防抖动**：输入延迟300ms后搜索
- **最小长度**：至少2个字符才开始搜索  
- **结果限制**：最多8个结果避免信息过载
- **英文优先**：设置英文语言提高结果质量

### 用户体验
- **加载指示**：搜索时显示旋转图标
- **实时反馈**：即时显示搜索结果
- **智能切换**：空搜索时显示热门城市
- **错误处理**：网络错误时优雅降级

## 支持的搜索类型

### 地理位置
- 🏙️ **城市**：Paris, London, Tokyo
- 🏛️ **地标**：Statue of Liberty, Big Ben
- 🏞️ **自然景观**：Grand Canyon, Niagara Falls
- 🏢 **具体地址**：街道地址、邮政编码
- 🎯 **坐标点**：精确的经纬度位置

### 搜索语言
- **主要语言**：英文（推荐）
- **其他语言**：支持多语言，但英文结果更准确
- **本地名称**：支持当地语言地名

## 故障排除

### 搜索无结果
- **检查拼写**：确认地名拼写正确
- **尝试英文**：使用英文地名搜索
- **简化搜索**：去掉详细描述，只用主要地名
- **使用备选**：尝试同一地点的不同名称

### 网络问题
- **检查连接**：确认网络连接正常
- **重试搜索**：等待片刻后重新搜索
- **使用热门城市**：网络问题时使用预设城市
- **手动坐标**：直接输入已知坐标

### 结果不准确
- **查看坐标**：确认坐标是否正确
- **选择最佳**：从多个结果中选择最准确的
- **手动调整**：使用自定义坐标微调位置

## 更新历史

- **v2.2.0** (2024-06-02)
  - ✨ 新增全球地点搜索功能
  - 🌍 集成OpenStreetMap Nominatim API
  - 🏙️ 替换为欧美热门城市
  - 🔄 优化搜索体验和界面
  - 🎯 支持精确坐标定位

---

**现在可以为世界上任何地方创建专属星图！** 🌟 